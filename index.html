<!DOCTYPE html>
<html>

<head>
<title>Fun</title>

<style>
h1{text-align:center;}
img.displayed{
	display: block;
	margin-left: auto;
	margin-right: auto; 	
}
p{
	text-align:center;
	font-size:small;
}
</style>

</head>

<body>
	<h1>Random Cat Fun</h1>
        <img id="pic" class="displayed" onmouseover="" style="cursor: pointer;" src="http://25.media.tumblr.com/tumblr_m472i9O3O31qlme4do1_500.jpg">
	<p><button type="button" id="open_window" onclick="openNew()">Gimme this cat in a new window please!</button></p>
        <p>Or click on the image to see another! Images from thecatapi.com</p>
	<p><a href="about.html">About</a></p>
</body>

<script src="http://yui.yahooapis.com/3.8.0/build/yui/yui-min.js"></script>
<script>
// Calls YQL Web service to access xml from thecataapi.com
// parses results, and outputs results
YUI().use('node', 'event', 'yql', function(Y) {  
	Y.one("#pic").on('click',function() {
		var yql_query = "select data from xml where url='http://thecatapi.com/api/images/get?format=xml&results_per_page=1' ";
		var link="";
		Y.YQL(yql_query, function(response) {
		if(response.query.results.response.data.images.image){
			var photo = response.query.results.response.data.images.image;
			document.getElementById("pic").src=photo.url;
			scale();
		}
		else {
			alert("No cats! :(");
		}
		});
	});
});  
function openNew(){
	var url=document.getElementById("pic").src;
	window.open(url);
};
</script>
</html>
